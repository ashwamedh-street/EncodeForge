<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      prefWidth="600" prefHeight="400" styleClass="dialog-container" spacing="15">
    
    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>
    
    <!-- Header -->
    <VBox styleClass="dialog-header" spacing="8">
        <Label text="Initializing EncodeForge" styleClass="dialog-title">
            <font>
                <Font name="System Bold" size="20"/>
            </font>
        </Label>
        <Label fx:id="stageLabel" text="Setting up dependencies..." styleClass="dialog-subtitle">
            <font>
                <Font size="12"/>
            </font>
        </Label>
    </VBox>
    
    <!-- Progress Section -->
    <VBox spacing="10" VBox.vgrow="SOMETIMES">
        
        <!-- Status Message -->
        <Label fx:id="statusLabel" text="Checking for required dependencies..." wrapText="true" minHeight="40"/>
        
        <!-- Progress Bar -->
        <ProgressBar fx:id="progressBar" progress="0" prefWidth="Infinity" prefHeight="30"/>
        
        <!-- Progress Percentage -->
        <Label fx:id="progressLabel" text="0%" styleClass="progress-label">
            <font>
                <Font size="11"/>
            </font>
        </Label>
        
        <!-- Detailed Log (Expandable) -->
        <TitledPane fx:id="logPane" text="Show Details" expanded="false" animated="true" VBox.vgrow="ALWAYS">
            <ScrollPane fitToWidth="true" fitToHeight="true">
                <TextArea fx:id="logArea" editable="false" wrapText="true" prefRowCount="10"
                          styleClass="log-area">
                    <font>
                        <Font name="Monospaced" size="10"/>
                    </font>
                </TextArea>
            </ScrollPane>
        </TitledPane>
        
    </VBox>
    
    <!-- Button Bar -->
    <HBox alignment="CENTER_RIGHT" spacing="10" styleClass="button-bar">
        <Button fx:id="cancelButton" text="Cancel" onAction="#handleCancel" prefWidth="100" disable="true"/>
        <Button fx:id="closeButton" text="Continue" onAction="#handleClose" prefWidth="100" visible="false"/>
    </HBox>
    
</VBox>

